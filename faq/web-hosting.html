<!--#set var="title" value="Frequently Asked Questions" -->
<!--#include virtual="../inc/header.html" -->
<h2>Frequently Asked Questions: Web Hosting</h2>

<h3 id="cgi">Can I run CGI scripts?</h3>

<p>Yes, see <a href="cgi.html">here</a> for more details.</p>

<h3 id="ssi">Can I use Server-Side Includes?</h3>

<p>Yes &mdash; all files ending in <tt>.shtml</tt> and <tt>.sxhtml</tt>
are server-parsed by default. Only these extensions will be supported
for SSI functionality in future and new extensions cannot be specified
in <tt>.htaccess</tt> files. Sorry :-)</p>

<p>See this <a
href="http://httpd.apache.org/docs/howto/ssi.html">tutorial</a> for more
information on server-side includes.</p>

<h3 id="wsgi">Can I use WSGI?</h3>

<p>Unfortunately, no; however, we are looking into ways to enable this.</p>

<p>This is because mod_wsgi, the Apache module which enables WSGI, does not work well on multi-user systems: all python processes are restricted to being run as a single user.  This would present security problems on the SRCF, unless such a restrictive environment was used that WSGI would not be useful.</p>

<h3 id="fopen">How can I access remote files from within PHP?</h3>

<p>On the SRCF system, we restrict the use of functions which call the
PHP <tt>fopen()</tt> directive to only access the local filesystem: this
affects <tt>fopen()</tt> itself, as well as directives like
<tt>include()</tt>, <tt>require_once()</tt> and so on. The reasoning is
that some security incidents occurred where attackers were able to
convince insecure scripts to include and execute a malicious PHP script
from a remote location.</p>

<p>After such incidents, we decided that anyone who <em>really</em>
wants to be able to perform operations on remote files via PHP should
have to be fully aware that that's what they're doing. If you definitely
do want to run remote fopen commands then you need to place a file called
<tt>php_override.ini</tt> in the top level of your website containing the
line</p>

<pre>allow_url_fopen = On</pre>

<p>Remember, PHP remote
fopen is a security risk &mdash; make sure you know what you're
doing!</p>

<h3 id="cn">Can I use Apache content-negotiation?</h3>

<p>Yes, content negotiation is enabled by default for all SRCF-served
websites. This enables you to automatically serve multi-lingual
documents &mdash; the server will automatically choose the most
appropriate one for the viewer (provided you follow the instructions in
Apache's <a
href="http://httpd.apache.org/docs/content-negotiation.html">content-negotiation
tutorial</a>.)</p>

<p>Perhaps more useful is that content negotiation allows you to drop
the file extension when you make a hyperlink to a file: <tt>foo.php</tt>
can be linked to with an HTML link like <tt>&lt;a href="foo"
...&gt;</tt>.  Linking like this is easier for visitors to remember and
helps avoid &ldquo;link rot&rdquo; &mdash; it's highly recommended.</p>

<p>Common gotchas: you have to be careful not to have a directory at the
same level also called &ldquo;foo&rdquo;, though, and any PHP include
statements need to use the full filename.</p>

<h3 id="dns">I have registered www.foo.com &mdash; can I point it at my
SRCF website?</h3>

<p>Yes - we can set up what is known as &ldquo;virtual hosting&rdquo;,
which effectively means that each of the names which refer to our
machine acts as a separate server, with separate configuration files,
logs and all the rest. This has a number of advantages over the simple
redirection offered by many other people - for a start all file names
work, so http://www.foo.com/bar/hello.html is equivalent to
http://spqr2.user.srcf.net/bar/hello.html and so on. Also you don't
end up relying on a third party's machine to do the redirection as well
as the web server itself.</p>

<p>It is possible to have more than one domain (or subdomain) pointing at a
single account, so that each name points to a different subdirectory within
your public_html directory.</p>

<p>To set up virtual hosting, you should find someone outside of the
Cambridge University Data Network (CUDN) who is willing to host the DNS
server for your domain (we are not allowed to do this for you) - this
will normally be the same organisation with whom you registered the
domain.</p>

<p>Once you have done this, instruct them to set up a
&ldquo;CNAME&rdquo; record for your domain pointing to
<tt>webserver.srcf.societies.cam.ac.uk</tt> and let us know so that we
can configure the server appropriately. Alternatively, DNS
&ldquo;A&rdquo; and &ldquo;AAAA&rdquo; records referencing the IP
address of the SRCF webserver (<tt>A &mdash;
131.111.179.82</tt>, <tt>AAAA &mdash; 2001:630:212:700:2::1</tt>) will
work, but is slightly less robust to changes in our local setup
&mdash; CNAMEs are the preferred method.</p>

<p>Once you have done this, head to the
<a href="https://control.srcf.net">Control Panel</a> and select the
&ldquo;Add custom domain&rdquo; button in the &ldquo;Website&rdquo;
section of the user/society page.</p>

<p>Please note that we are not allowed to act as the mail exchange for
external domains &mdash; see the FAQ entry: <a
href="/faq/other-services.html#mx">Can you host the mail exchange or
name server for my domain?</a> for more details.</p>

<h3 id="guarantee">Do you offer any uptime guarantees?</h3>

<p>While we strive to make our system available all the time, we are not
in a position to guarantee a minimum level of service. We do
occasionally need to take the system down for maintenance (although we
try to do this when it will cause minimal disruption), and there is
always the risk of the unforeseen. If the availability of your site is
mission-critical then we recommend that you seek a commercial hosting
solution. <br/>
See also: <a href="../index.html#vulnerable">Scheduled vulnerable period</a>.</p>

<h3 id="stats">How do I get web stats for my account?</h3>

<p>For sites which have <a href="https://srcf-admin.soc.srcf.net/subdomains/">migrated
to the new style of address</a>, web stats are available at
<a href="https://webstats.srcf.net/">webstats.srcf.net</a>.  These stats
are updated daily.</p>

<p>For sites which have not yet migrated, or to view archived statistics
for sites which recently migrated, the old stats system is still available
at <a href="http://webalizer.soc.srcf.net/">webalizer.soc.srcf.net</a>.
To enable this for your site, log in and run <tt>touch .enable_webstats</tt>
in your home directory
(or society directory if you want society webstats).  These stats are
generated using webalizer every Sunday morning.</p>

<h3 id="ssl">Can I use a secure (HTTPS) connection?</h3>

<p>Yes, simply replace the <tt>http://</tt> with <tt>https://</tt> in
front of the URL of any page hosted on our server to make a secure
connection. For example, <a
href="https://www.srcf.net/">https://www.srcf.net/</a>
connects securely to our front page.</p>

<p>If you would like to make a particular page <em>only</em> accessible
over HTTPS, you should use the <tt>SSLRequireSSL</tt> directive in a
<tt>.htaccess</tt> file.  More information can be found in the <a
href="http://httpd.apache.org/docs-2.4/mod/mod_ssl.html#sslrequiressl">Apache
documentation</a>.</p>

<p>Our SSL certificate covering *.srcf.net does not allow for secure connections to domains for which we provide virtual hosting. However, you can request a certificate for your domains (for free) from <a href="https://letsencrypt.org/">Let's Encrypt</a> by visiting
<a href="https://srcf-admin.soc.srcf.net/lets-encrypt/">https://srcf-admin.soc.srcf.net/lets-encrypt/</a>.</p>

<!-- <p>Please note that technical limitations in the HTTPS protocol mean
that it is not possible for us to offer secure connections to domains
for which we provide virtual hosting. However, it is still possible to
make an HTTPS connection to these sites using the
<tt>https://&lt;socname&gt;.soc.srcf.net/</tt> form of the URL.</p> -->

<h3 id="auth">Can I protect my web page with a password?</h3>

<p>Yes - you can do this using a <tt>.htaccess</tt> file in the
directory that you would like to protect. For more information, see the
<a href="http://httpd.apache.org/docs/2.2/howto/auth.html">Apache
documentation</a> on the subject. See also the next <a href="#raven">question</a>.</p> 
<p><strong>Note:</strong> Apache basic authentication is insecure, 
if you are going to use it make sure you are also using ssl or your passwords
will be sent in plain text across the internet. 
It is also not possible to chmod apache password files as reccomended in the 
Apache documentation. <a href="http://httpd.apache.org/docs/2.2/mod/mod_auth_digest.html">Digest</a>
or <a href="#raven">Raven</a> authentication is better.</p>

<h3 id="raven">Can I use the UCS Raven web authentication service on my
website?</h3>

<p>Yes. The SRCF has the <a
href="http://raven.cam.ac.uk/project/apache/">mod_ucam_webauth</a>
module installed which makes it very easy to do basic authentication
using <a href="http://raven.cam.ac.uk">Raven</a>. Simply create a
<tt>.htaccess</tt> file in the directory you wish to protect that
contains:</p>

<pre>      AuthType Ucam-WebAuth
      Require valid-user</pre>

<p>Alternatively you may want to limit access to Raven authenticated
users or those in the cam.ac.uk domain:</p>

<pre>      Order allow,deny
      Allow from .cam.ac.uk
      AuthType Ucam-WebAuth
      Require valid-user
      Satisfy any</pre>
    
<p>To create a "logout" link, add the following to your .htaccess
file:</p>

<pre>      &lt;FilesMatch "logout"&gt;
	SetHandler AALogout
      &lt;/FilesMatch&gt;</pre>

<p>and then create a link using: <tt>&lt;a
href="logout"&gt;Logout&lt;/a&gt;</tt>.</p>

<p>Read the full <a
href="http://raven.cam.ac.uk/project/apache/README.Config">documentation</a>
for this module.</p>
    
<p> To use Raven via CGI or PHP you may install the Perl <a
href="http://raven.cam.ac.uk/project/perl/">module</a> or PHP <a
href="https://wiki.cam.ac.uk/raven/PHP_library">class</a> in your home or
society file space.  Making centrally installed versions of these
modules available is currently under consideration by the sysadmins.</p>

<h3 id="chars">How do I make non-English characters and symbols display correctly?</h3>

<p>To make this work, you need to ensure that the character encoding for
your document is correctly specified. For security reasons, our server
is configured to automatically specify a character set, which by default
will be ISO-8859-1. This is suitable for English and most Western
European languages. It is possible that in the future we may change this
to be UTF-8, so please bear this in mind when creating internationalised
pages. Note that specifying a character set in a <tt>meta</tt> tag will
not work, as the server specified character set will take precedence.
Instead, to specify an alternative character set you must create a file
called &lsquo;<tt>.htaccess</tt>&rsquo; in your <tt>public_html</tt>
directory containing the line:</p>

<pre>AddDefaultCharset &lt;character set&gt;</pre>

<p>The recommendation here is to use Unicode encoded as UTF-8. This is the
standard, and can represent almost all characters in use around the
world (and many which aren't).</p>

<p>It is worth also noting that many symbols used in everyday English
are not part of the ASCII character set - in particular, the GBP and
Euro signs (&pound; and &euro;), and directional quotes
(&lsquo;...&rsquo; and &ldquo;...&rdquo;) fall into this category, and
need to be specified as HTML entities if you are not using UTF-8.</p>

<h3 id="charsets-php">The answer to the previous question only works for
HTML files: how do I do this in PHP?</h3>

<p>The best way of doing this in PHP is to use the following command:</p>
<pre>echo 'default_charset = "utf-8"' >> php_override.ini</pre>
<p>Or to add that line to your <tt>php_override.ini</tt> file</p>

<p>One way to do this is to put the PHP command:</p>

<pre>header("Content-Type: text/html; charset=UTF-8");</pre>

<p>(or whatever character set you want to use) at the start of all your
PHP scripts.</p>

<!--#include virtual="../inc/footer.html" -->
